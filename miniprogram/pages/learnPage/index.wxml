<view class="section__full" style="height: {{aspect * 100}}vw;">
    <canvas type="2d" class="section__image section__absolute" id="bgCanvas"></canvas>
    <CursorCanvas class="section__image section__absolute" pos="{{cursorPos}}"></CursorCanvas>
    <canvas type="2d" class="section__image section__absolute" id="itemCanvas" bindtap="selectItem"></canvas>
</view>

<view wx:if="{{showSteps}}" class="section__steps {{isError ? 'section__steps-error' : ''}}">
    <scroll-view scroll-y="true" scroll-top="{{nowSteps.length * 30}}" scroll-with-animation="true" style="height: 300rpx;">
        <view wx:for="{{nowSteps}}" wx:for-item="item" wx:key="Id" wx:for-index="idx"
            class="{{idx === nowSteps.length - 1 ? 'last-step' : ''}}">
            <text class="step-idx">{{idx + 1}}.</text>
            <text class="step-normal">{{item[0]}}</text>
            <text class="step-normal">{{item[1]}}</text>
            <text class="step-normal">{{item[2]}}</text>
            <text class="step-normal">{{item[3]}}</text>
        </view>
    </scroll-view>
</view>

<view class="section__btns">
    <button class="section__btn" type="default" bindtap="revert" disabled="{{nowSteps.length === 0}}">悔棋</button>
    <button class="section__btn" type="warn" bindtap="reload">重来</button>
</view>